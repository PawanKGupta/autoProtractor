# autoProtractor
 
What is AutoProtractor:

AutoProtractor is a inhouse developed test framework to automate the angular based application. The framework is designed to make the test automation easier and faster even the end user is not much aware of protractor.

Note that the framework is designed on the top of protractor and jasmine framework. 

Why AutoProtractor:
Key feature of protractor:
As we know that, Protractor is a wrapper around selenium-webdriver, the Webdriver bindings for Node.js. Protractor does interact with a browser through the Selenium WebDriver.
Protractor provides some unique Angular-specific features:
1. Angular specific element locating strategies (by.model(), by.binding(), by.repeater())
2. Automatic synchronization between Protractor and Angular that helps to minimize the use of explicit waits here and there 3. Test parallelization and many more.

Key feature of autoProtractor:
1. Protractor common wrapper for each protractor action.
2. Well defined folder structure for maintaning test suite.
3. Beautiful report of testsuite run.
4. Generate debug log for debugging the failed testcase.
5. Testcase maintanace by using page object model.
6. Flexbility to create and run multiple testsuite.
7. Inline UI screenshot of failure testcase.
8. Easy to start with autoProtractor with basic knowledge of typescript.
9. 

How to configure AutoProtractor:
Setup:
1. First Download and install Nodejs. (https://nodejs.org/en/download/)
2. Check the node version to verify the successful installation: npm --version
3. Use npm to install Protractor globally with: npm install -g protractor
4. Check the protractor version to verify the successful installation: protractor --version
5. Clone the autoProtractor repository into the C drive.

Folder Structure:
1. Configuration:
	a. Environment:
		(i) MyProject folder: contains environment.json file, which contain all the information related to the test environment like server ips, server name, port, db details etc.
	b. TestSuites:
		(i) MyProject folder:
			- MyProjectSuite.json: This json file contains all the small suites and relates testcases path in the form of key value pair. 
			where key can be use as testsuite name and value (must be a list) can be use for the comma separated testcase path.
			- suite.ts: This typeScript file imports all the testsuite json file (ex. MyProjectSuite.json etc.), and initialize the defferent smaller suites. That can be run directly using command.
	c. browserConf.ts
		- browserConf.ts file contains predefined browser related capabilities, which can be use to run the testcases in a single browser or in multiple browser parallerly.
	d. conf.ts
		- conf.ts file contains the project configuration which is used by protractor to run the suite/testcase, generate report, jasmine configuration and browser configuration. This File helps protractor to where the test files are placed (specs.js) and to talk with Selenium server (Selenium Address). 
	e. log4js.json
		- Used to simulate the log generated by protractor into the log file or in console.
	f. log4jsconf.ts
		- This file import the log4js and returns an instance of log4js, which can be use to generate log according to the user's choice. this file read the log configuration form the log4js.json file and append the generated log into file or console as per the imported configuration.
	g. typing.d.ts
		- this file is required to import the json file into any ts file using absolute path.
2. Files:
	(i) MyProject folder
		- Keep all the file which is required in some testcase to read or write some data during test. (ex. some file required to use as attachment in attachment related testcase)
3. Logs:
	- Contains the log file generated by log4js on the date basis. which can be use to debug any failure testcases.
4. Reports:
	- Cotains the overall result of the test suite testcases in the form of html file, that is generated by protrator beautiful reporter. this also contains the screenshot of failure testcases.
	Note: All the file inside the Report folder are auto generated by protractor (same can be customise under conf.ts file).
5. Temp:
	- Contains all temprory file generagted by testcases. (make sure if your test case generates any temprory file and saving under temp location)
6. Test:
	 MyProject: This is one of the main project folder where you will start writing your testcase, that means your actual testcase will be placed here. This folder further contains three more subfolder to achive the Page Object Model methodology for writing testcases.

	 (i) TestSuite: This folder contains different suite (ex. MyProjectSuite1, MyProjectSuite2.... etc) folder having the related testcases. We will have a separate testcase folder for each testcase. Each testcase folder will have their related specs.ts file and variable.json file. Here specs.ts file is your actual protractor test and variable.json file contains all the variable which is required in your testcase. (Note: you should not hardcore any single value into your testcase.) 

	 (ii) PageObjects: This folder contains different pages (ex. LoginPage.ts, HomePage.ts etc.), that contains all the locators and locator types of the respective page. We will use these locator and locator type into our testcases.

	 (iii) TestUtils: This folder can be use to write the different util for your project (ex. login, logout etc.). These utils can be use into your testcase to save the time and rework of your testcase.

7. Utils: This folder contains the product level utils file that can be use globally (rather than your indivisual project). for example, reading or writing in some file, reading the db details, db connection etc. This folder already contains protractorCommon.ts file that can be use into your testcase to improve readability and maintainability of the test code. This is very useful for those people who are very new in protractor or very new in the automation testing. They can refer the protractorCommon class and can eaisly start the writing testcases. I will recommend to use protractorCommon class into your testcase for better user experience.

How to start writing testcases for your project:
Under Test folder:
1. Create a testsuite folder under MyProject.
2. Create a testcase folder under the testsuite.
3. Create a testcase ts file and a variable.json file under the testcase folder.
Under Configuration/Testsuite folder:
1. Create a testsuite folder under MyProject
2. Create a json file of your suite (known as master suite, ex, homePageSuite.json), and update the suite name (separate suite for different poration of homepage) and testcases path.
3. Initialize the suite name under suites.ts file. And you are done.

Note while writing your testcase:
1. Testsuite name for the each testcase of a testsuite folder should be same. For example, let assume you have 5 testcases in MyProjectSuite1, then make sure that describe block of your each testcase should have the same name. This will help us to keep all testcases related to a testsuite into a single section while generating the report.
2. If you are writing two or more it block into your testcase, then make sure you have provided the proper name because each it block will be considered as a separate testcase of the same testsuite.
3. For each testcase you have to import required pages.ts file, protractorCommon.ts and respective testcase variable.json file, to make your testcase readable and maintanable. Create an object of protractorCommon to access each action defined into the class.
4. It's better to write utility under TestUtility folder if there is some scenario which most of the testcases are using.

How to run a single testcase and a suite.
Running a suite:
1. Import the suites.ts file into the conf.ts file.
2. Under suites, import the master suite using it's class name. (ex. suites: suite.HomePageSuite)
3. Open the command line under autoProtractor folder.
4. run the command "npm test -- --suite yourSuiteName"

Running a single testcase:
1. In conf.ts file, under specs list, mention the testcase path which you want to run.
2. Open the command line under autoProtractor folder.
3. run the command "npm test".

Configuring the browser.
1. If you want to run your test in chrome only, then under conf.ts file modify the browser capability as follow:
"capabilities: browserConfig.capabilities"
2. If you want to run your test in multiple browser then modify the browser capability as follow:
"multiCapabilities: browserConfig.multiCapabilities"
